<?xml version="1.0" encoding="UTF-8" ?>

<Module>
  <ModulePrefs title="Time Tracker" author="Reed Wilson">
    <Require feature="google.calendar-0.5.read"/>
  </ModulePrefs>
  <Content type="html">
  <![CDATA[
  <html>
    <script type="text/javascript">

      function eventCallback(response) {
        document.getElementById('content_div').innerHTML = response;
        console.log("response.length " + response.length);
        console.log("response.name " + response[0].name);
        console.log("response.error " + response[0].error);
        console.log("response.events.length " + response[0].events.length);
        console.log("response.events[0].title " + response[0].events[0].title);
        console.log("response.events[0].allDay " + response[0].events[0].allDay);
        console.log("response.events[0].id " + response[0].events[0].id);
        console.log("response.events[0].details " + response[0].events[0].details);
      }

      function test() {
        var startDate = {year: 2012, month: 12, date : 24, hour : 0, minute:0, second: 0};
        var endDate = {year: 2013, month: 1, date : 1, hour : 0, minute: 0, second: 0};

        google.calendar.read.getEvents(eventCallback, ["reedcwilson@gmail.com"], startDate, endDate);
      }

      </script>

      <FORM NAME="myform" ACTION="" METHOD="GET">Message: <BR>
        <INPUT TYPE="text" NAME="inputbox" VALUE=""><P>
        <INPUT TYPE="button" NAME="button" Value="Transform" onClick="test()">
      </FORM>
      <div id="content_div"></div>
    </html>
    ]]>
  </Content>
</Module>
